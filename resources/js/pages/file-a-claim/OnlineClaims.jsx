import { useState, useEffect, useRef} from "react";
import claimsBanner from "../../assets/images/claims-banner.png";
import mobileBanner from "../../assets/images/Banner2.png";
import taglineImage from "../../assets/images/tagline.png";
import PaperSubmission from "./PaperSubmission";
import { useNavigate,  useLocation } from 'react-router-dom';

const OnlineClaims = () => {
  const navigate = useNavigate();
    const [policyNumber, setPolicyNumber] = useState("");
    const [isPolicyNumberValid, setIsPolicyNumberValid] = useState(null); 
    const [policyData, setPolicyData] = useState(null);
    const [isFormatValid, setIsFormatValid] = useState(true);
    const [isModalOpen, setIsModalOpen] = useState(false);
    const [showFullText, setShowFullText] = useState(false);
    const [isPolicyTaken, setIsPolicyTaken] = useState(false);

    const handleOpen = () => setIsModalOpen(true);
    const handleClose = () => setIsModalOpen(false);
    const handleConfirm = () => {
      setIsModalOpen(false);
    };
 const [captchaToken, setCaptchaToken] = useState("");
  const captchaRef = useRef(null);

  useEffect(() => {
    const renderCaptcha = () => {
      if (window.grecaptcha && captchaRef.current) {
        window.grecaptcha.render(captchaRef.current, {
          sitekey: "6Lc07LAbAAAAAJK7v7xhMkNTSPFB6--NXt-mLBU6",
          callback: (token) => {
            setCaptchaToken(token);
          },
        });
      }
    };

    const scriptId = "recaptcha-script";
    if (!document.getElementById(scriptId)) {
      const script = document.createElement("script");
      script.id = scriptId;
      script.src = "https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit";
      script.async = true;
      script.defer = true;
      document.body.appendChild(script);

      window.onloadCallback = renderCaptcha;
    } else {
      renderCaptcha();
    }
  }, []);
useEffect(() => {
  const html = document.querySelector('html');

  const shouldDisableScroll = isModalOpen;

  if (shouldDisableScroll) {
    html.classList.add('overflow-hidden');
  } else {
    html.classList.remove('overflow-hidden');
  }

  return () => {
    html.classList.remove('overflow-hidden');
  };
}, [isModalOpen]);

const location = useLocation();
const { fullname, bday } = location.state || {};

const formatDateLocal = (date) => {
  const d = new Date(date);
  const year = d.getFullYear();
  const month = String(d.getMonth() + 1).padStart(2, "0"); 
  const day = String(d.getDate()).padStart(2, "0");
  return `${year}-${month}-${day}`;
};

const formattedBday = formatDateLocal(bday);

const validPolicyRegex = /^[A-Z]{2}-[A-Z]{1,3}-[A-Z]{2}-\d{2}-\d{1,7}-\d{2}$/;

 const handleVerify = async (e) => {
  e.preventDefault();

  if (!captchaToken) {
    alert("Please confirm if you're not a robot.");
    return;
  }

  if (!validPolicyRegex.test(policyNumber)) {
    setIsFormatValid(false);
    setIsPolicyNumberValid(false);
    return;
  } else {
    setIsFormatValid(true); 
  }

  try {
    const response = await fetch('api/verify-policy', {
      method: 'POST',
      headers: { 
        'Content-Type': 'application/json',
        'Accept': 'application/json'
      },
      body: JSON.stringify({ policyNumber,
      fullname,
      bday: formattedBday,  }),
    });

    const data = await response.json();

     if (data.isValid && data.data) {
    if (data.data.policy_taken) {
            setIsPolicyTaken(true);
            setIsPolicyNumberValid(false);
          } else {
            setIsPolicyTaken(false);
            setIsPolicyNumberValid(true);
            setPolicyData(data.data);
          }
        } else {
          setIsPolicyNumberValid(false);
          setIsPolicyTaken(false);
        }
      } catch (error) {
        setIsPolicyNumberValid(false);
      }
    };
    
const handleStartClaim = () => {
  // console.log(policyData);
  if (policyData) {
    navigate('/product-type', { state: {
        policyData,
        fullname,
        bday: formattedBday,
      } });
  } else {
  }
};

    return (
        <div className="flex flex-col items-center justify-center gap-5 w-full">
<div className="-mt-5 w-full">
  <div className="block sm:hidden relative w-full ">
    
  <img 
    src={mobileBanner}
    className="w-full h-full object-cover"
    alt="Online Claims Banner"
  />

  <div className="absolute top-6 text-center w-full h-full px-4">
    <div className="relative size-32">
      <div className="absolute inset-y-1 left-[-15px] w-auto whitespace-nowrap text-xl font-bold text-white ml-4 flex gap-4 font-mono leading-[1.5]">
        Online Claims
      </div>
    </div>
  </div>

<div className="absolute top-4 right-1 text-left font-medium text-[#2D2727] text-[9px] font-mono leading-[1] mr-2 mt-3">
  <div>COMMITTED.</div>
  <div>COMPASSIONATE.</div>
  <div>GENUINE.</div>
</div>

</div>


<div className="relative w-full hidden sm:block h-[170px] md:h-[180px]">
  <img
    src={claimsBanner}
    className="w-full h-full object-cover"
    alt="Online Claims Banner"
  />

 <div className="absolute top-[47%] left-9 text-white font-mono font-bold text-2xl md:text-4xl lg:text-5xl leading-tight">
    Online Claims
  </div>

                        <div className="absolute top-[-2rem] md:top-[-2rem] lg:top-[-5rem] right-6 md:right-12 lg:right-2">
                        <img 
                            src={taglineImage} 
                            alt="Committed Compassionate Genuine" 
                            className="w-[160px] sm:w-[220px] md:w-[260px] lg:w-[375px] object-contain"
                          />
                        </div>
</div>


<div className="bg-[#FFF4DA] flex flex-row gap-4 px-6 md:px-12 py-6 mb-10 w-full">
      <div className="flex-shrink-0 mt-1">
        <svg
                    width="24"
                    height="24"
                    viewBox="0 0 18 22"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M13.5001 20.75C13.5001 20.9489 13.4211 21.1396 13.2805 21.2803C13.1398 21.4209 12.949 21.5 12.7501 21.5H5.25012C5.05121 21.5 4.86045 21.4209 4.71979 21.2803C4.57914 21.1396 4.50012 20.9489 4.50012 20.75C4.50012 20.551 4.57914 20.3603 4.71979 20.2196C4.86045 20.079 5.05121 20 5.25012 20H12.7501C12.949 20 13.1398 20.079 13.2805 20.2196C13.4211 20.3603 13.5001 20.551 13.5001 20.75ZM17.2501 8.74995C17.2534 10.0002 16.9709 11.2347 16.4243 12.3592C15.8778 13.4837 15.0815 14.4685 14.0964 15.2384C13.9122 15.3796 13.7627 15.561 13.6593 15.7688C13.556 15.9767 13.5015 16.2054 13.5001 16.4375V17C13.5001 17.3978 13.3421 17.7793 13.0608 18.0606C12.7795 18.3419 12.3979 18.5 12.0001 18.5H6.00012C5.6023 18.5 5.22077 18.3419 4.93946 18.0606C4.65816 17.7793 4.50012 17.3978 4.50012 17V16.4375C4.49997 16.2081 4.44724 15.9819 4.34599 15.7762C4.24474 15.5704 4.09766 15.3906 3.91606 15.2506C2.93337 14.4852 2.13767 13.5064 1.58916 12.3881C1.04066 11.2698 0.753744 10.0414 0.750123 8.79589C0.725748 4.32777 4.337 0.606828 8.80137 0.499953C9.90139 0.473445 10.9956 0.667253 12.0196 1.06997C13.0436 1.47269 13.9767 2.07617 14.7639 2.84491C15.5512 3.61365 16.1767 4.53211 16.6037 5.54622C17.0306 6.56034 17.2504 7.64962 17.2501 8.74995ZM14.2398 7.87433C14.0453 6.78804 13.5227 5.78742 12.7423 5.00717C11.9619 4.22692 10.9611 3.70451 9.87481 3.51027C9.77767 3.49389 9.67826 3.49681 9.58225 3.51886C9.48624 3.5409 9.39552 3.58164 9.31525 3.63875C9.23499 3.69586 9.16676 3.76821 9.11446 3.85169C9.06216 3.93517 9.02681 4.02813 9.01044 4.12527C8.99406 4.2224 8.99698 4.32181 9.01902 4.41782C9.04107 4.51383 9.08181 4.60456 9.13892 4.68482C9.19602 4.76509 9.26838 4.83332 9.35186 4.88562C9.43534 4.93792 9.5283 4.97327 9.62543 4.98964C11.1789 5.2512 12.497 6.56933 12.7604 8.12558C12.7901 8.30026 12.8807 8.45879 13.0161 8.57307C13.1515 8.68736 13.3229 8.75002 13.5001 8.74995C13.5425 8.7497 13.5848 8.74625 13.6267 8.73964C13.8227 8.70617 13.9974 8.59621 14.1124 8.43394C14.2274 8.27167 14.2732 8.07038 14.2398 7.87433Z"
                        fill="#F5BC16"
                    />
                </svg>
      </div>

      <div className="flex flex-col gap-2">
        <p className="font-bold text-[#2D2727] text-sm md:text-base">
          CLAIMS PROCESS REMINDER
        </p>

        <div className="block md:hidden text-xs md:text-sm font-normal text-[#303030] leading-snug">
          {showFullText ? (
            <>
              To enable a smooth processing of your claim, please ensure that you have prepared all documents for the
              online claims process. If you do not have complete information and documents, it will likely cause delays
              in the processing of your claim. If you need help in filing your claim, send an email to
              <br />
              <span className="font-semibold">client_services@cocogen.com</span>
            </>
          ) : (
            <>
              To enable a smooth processing of your claim, please ensure that you have prepared all documents for the
              online claims process.{" "}
              <button
                onClick={() => setShowFullText(true)}
                className="text-[#008080] font-semibold"
              >
                See more
              </button>
            </>
          )}
        </div>

        <p className="hidden md:block text-xs md:text-sm font-normal text-[#303030]">
                            To enable a smooth processing of your claim, please
                            ensure that you have prepared all documents for the
                            online claims process. If you do not have complete{" "}
                             information and documents, it will likely
                            cause delays in the processing of your <br /> claim. If you
                            need help in filing your claim, send an email to &nbsp;
                            <a
                            href="mailto:client_services@cocogen.com"
                            className="font-semibold text-blue-600 "
                          >
                            client_services@cocogen.com
                          </a>
                          .
                        </p>
      </div>
    </div>

</div>

            <p className="font-bold text-[25px] md:text-[35px] text-[#2D2727]">
                Enter Policy Number
            </p>
            <p className="font-semibold md:text-xl text-sm text-[#585858]">
                For verification purposes, please enter the <br className="block md:hidden" /> <span className="block md:inline text-center">policy number</span>
            </p>

      {isPolicyNumberValid === true && (
        <div className="flex flex-col items-center justify-center text-center p-6">
         <svg width="51" height="50" viewBox="0 0 51 50" fill="none" xmlns="http://www.w3.org/2000/svg" className="m-3">
<path d="M44.6133 20.082C43.877 19.3125 43.1152 18.5195 42.8281 17.8223C42.5625 17.1836 42.5469 16.125 42.5312 15.0996C42.502 13.1934 42.4707 11.0332 40.9688 9.53125C39.4668 8.0293 37.3066 7.99805 35.4004 7.96875C34.375 7.95312 33.3164 7.9375 32.6777 7.67188C31.9824 7.38477 31.1875 6.62305 30.418 5.88672C29.0703 4.5918 27.5391 3.125 25.5 3.125C23.4609 3.125 21.9316 4.5918 20.582 5.88672C19.8125 6.62305 19.0195 7.38477 18.3223 7.67188C17.6875 7.9375 16.625 7.95312 15.5996 7.96875C13.6934 7.99805 11.5332 8.0293 10.0312 9.53125C8.5293 11.0332 8.50781 13.1934 8.46875 15.0996C8.45312 16.125 8.4375 17.1836 8.17188 17.8223C7.88477 18.5176 7.12305 19.3125 6.38672 20.082C5.0918 21.4297 3.625 22.9609 3.625 25C3.625 27.0391 5.0918 28.5684 6.38672 29.918C7.12305 30.6875 7.88477 31.4805 8.17188 32.1777C8.4375 32.8164 8.45312 33.875 8.46875 34.9004C8.49805 36.8066 8.5293 38.9668 10.0312 40.4688C11.5332 41.9707 13.6934 42.002 15.5996 42.0312C16.625 42.0469 17.6836 42.0625 18.3223 42.3281C19.0176 42.6152 19.8125 43.377 20.582 44.1133C21.9297 45.4082 23.4609 46.875 25.5 46.875C27.5391 46.875 29.0684 45.4082 30.418 44.1133C31.1875 43.377 31.9805 42.6152 32.6777 42.3281C33.3164 42.0625 34.375 42.0469 35.4004 42.0312C37.3066 42.002 39.4668 41.9707 40.9688 40.4688C42.4707 38.9668 42.502 36.8066 42.5312 34.9004C42.5469 33.875 42.5625 32.8164 42.8281 32.1777C43.1152 31.4824 43.877 30.6875 44.6133 29.918C45.9082 28.5703 47.375 27.0391 47.375 25C47.375 22.9609 45.9082 21.4316 44.6133 20.082ZM34.418 21.418L23.4805 32.3555C23.3354 32.5007 23.163 32.616 22.9733 32.6946C22.7837 32.7733 22.5803 32.8137 22.375 32.8137C22.1697 32.8137 21.9663 32.7733 21.7767 32.6946C21.587 32.616 21.4146 32.5007 21.2695 32.3555L16.582 27.668C16.2888 27.3748 16.1241 26.9771 16.1241 26.5625C16.1241 26.1479 16.2888 25.7502 16.582 25.457C16.8752 25.1638 17.2729 24.9991 17.6875 24.9991C18.1021 24.9991 18.4998 25.1638 18.793 25.457L22.375 29.041L32.207 19.207C32.3522 19.0619 32.5245 18.9467 32.7142 18.8681C32.9039 18.7896 33.1072 18.7491 33.3125 18.7491C33.5178 18.7491 33.7211 18.7896 33.9108 18.8681C34.1005 18.9467 34.2728 19.0619 34.418 19.207C34.5631 19.3522 34.6783 19.5245 34.7569 19.7142C34.8354 19.9039 34.8759 20.1072 34.8759 20.3125C34.8759 20.5178 34.8354 20.7211 34.7569 20.9108C34.6783 21.1005 34.5631 21.2728 34.418 21.418Z" fill="#09A12A"/>
</svg>

          <p className=" md:text-xl text-base font-semibold text-[#09A12A]">Policy found in our records</p>
        </div>
      )}

      {isPolicyNumberValid === false && isFormatValid && !isPolicyTaken && ( 
        <div className="flex flex-col items-center justify-center text-center p-6">
         <svg width="135" height="127" viewBox="0 0 135 127" fill="none" xmlns="http://www.w3.org/2000/svg" className="hidden md:inline">
<path d="M66.8701 50.4043C54.3403 50.4043 44.1426 60.602 44.1426 73.1318C44.1426 85.6615 54.3403 95.8592 66.8701 95.8592C79.3998 95.8592 89.5975 85.6615 89.5975 73.1318C89.5975 60.602 79.3998 50.4043 66.8701 50.4043ZM77.1603 75.3157C79.3998 77.5551 79.3998 81.1826 77.1603 83.4036C74.9209 85.643 71.2934 85.643 69.0725 83.4036L66.8886 81.2196L64.7046 83.4036C62.4652 85.643 58.8377 85.643 56.6168 83.4036C54.3773 81.1641 54.3773 77.5366 56.6168 75.3157L58.8007 73.1318L56.6168 70.9479C54.3773 68.7084 54.3773 65.0809 56.6168 62.86C58.8562 60.6206 62.4837 60.6206 64.7046 62.86L66.8886 65.0439L69.0725 62.86C71.3119 60.6206 74.9394 60.6206 77.1603 62.86C79.3998 65.0994 79.3998 68.7269 77.1603 70.9479L74.9764 73.1318L77.1603 75.3157Z" fill="#DD0707"/>
<path d="M113.42 10H21.5812C15.2284 10 10.0508 15.1868 10.0508 21.5918V104.47C10.0508 110.856 15.2284 116.062 21.5812 116.062H113.42C119.773 116.062 124.951 110.856 124.951 104.47V21.5918C124.951 15.2052 119.773 10 113.42 10ZM95.6841 20.6874C98.3648 20.6874 100.55 22.8839 100.55 25.5788C100.55 28.2737 98.3648 30.4703 95.6841 30.4703C93.0035 30.4703 90.8186 28.2737 90.8186 25.5788C90.8186 22.8839 93.0035 20.6874 95.6841 20.6874ZM81.5649 20.6874C84.2456 20.6874 86.4305 22.8839 86.4305 25.5788C86.4305 28.2737 84.2456 30.4703 81.5649 30.4703C78.8843 30.4703 76.6994 28.2737 76.6994 25.5788C76.6994 22.8839 78.8843 20.6874 81.5649 20.6874ZM24.9779 20.9273H57.4943C60.0464 20.9273 62.1212 23.0131 62.1212 25.5788C62.1212 28.1445 60.0464 30.2303 57.4943 30.2303H24.9779C22.4258 30.2303 20.351 28.1445 20.351 25.5788C20.351 23.0131 22.4258 20.9273 24.9779 20.9273ZM114.651 106.057H20.351V40.0686H114.651V106.057ZM109.785 30.4518C107.104 30.4518 104.919 28.2553 104.919 25.5604C104.919 22.8655 107.104 20.6689 109.785 20.6689C112.466 20.6689 114.651 22.8655 114.651 25.5604C114.651 28.2553 112.466 30.4518 109.785 30.4518Z" fill="#DD0707"/>
</svg>
<svg xmlns="http://www.w3.org/2000/svg" width="50" height="47" viewBox="0 0 50 47" fill="none" className="inline md:hidden">
  <path d="M24.726 18.0049C19.2736 18.0049 14.8359 22.4425 14.8359 27.895C14.8359 33.3474 19.2736 37.7851 24.726 37.7851C30.1785 37.7851 34.6162 33.3474 34.6162 27.895C34.6162 22.4425 30.1785 18.0049 24.726 18.0049ZM29.204 28.8453C30.1785 29.8199 30.1785 31.3984 29.204 32.3649C28.2295 33.3394 26.6509 33.3394 25.6845 32.3649L24.7341 31.4145L23.7837 32.3649C22.8092 33.3394 21.2307 33.3394 20.2642 32.3649C19.2897 31.3904 19.2897 29.8118 20.2642 28.8453L21.2146 27.895L20.2642 26.9446C19.2897 25.9701 19.2897 24.3916 20.2642 23.4251C21.2387 22.4506 22.8173 22.4506 23.7837 23.4251L24.7341 24.3755L25.6845 23.4251C26.659 22.4506 28.2375 22.4506 29.204 23.4251C30.1785 24.3996 30.1785 25.9782 29.204 26.9446L28.2536 27.895L29.204 28.8453Z" fill="#DD0707"/>
  <path d="M44.9824 0.422852H5.01758C2.25312 0.422852 0 2.67994 0 5.46716V41.5324C0 44.3116 2.25312 46.5767 5.01758 46.5767H44.9824C47.7469 46.5767 50 44.3116 50 41.5324V5.46716C50 2.68797 47.7469 0.422852 44.9824 0.422852ZM37.2643 5.07358C38.4308 5.07358 39.3816 6.02943 39.3816 7.20215C39.3816 8.37487 38.4308 9.33072 37.2643 9.33072C36.0978 9.33072 35.147 8.37487 35.147 7.20215C35.147 6.02943 36.0978 5.07358 37.2643 5.07358ZM31.1202 5.07358C32.2867 5.07358 33.2375 6.02943 33.2375 7.20215C33.2375 8.37487 32.2867 9.33072 31.1202 9.33072C29.9537 9.33072 29.0029 8.37487 29.0029 7.20215C29.0029 6.02943 29.9537 5.07358 31.1202 5.07358ZM6.49569 5.178H20.6456C21.7562 5.178 22.659 6.08565 22.659 7.20215C22.659 8.31865 21.7562 9.2263 20.6456 9.2263H6.49569C5.38511 9.2263 4.48226 8.31865 4.48226 7.20215C4.48226 6.08565 5.38511 5.178 6.49569 5.178ZM45.5177 42.2232H4.48226V13.5075H45.5177V42.2232ZM43.4004 9.32269C42.2339 9.32269 41.2832 8.36684 41.2832 7.19412C41.2832 6.0214 42.2339 5.06555 43.4004 5.06555C44.567 5.06555 45.5177 6.0214 45.5177 7.19412C45.5177 8.36684 44.567 9.32269 43.4004 9.32269Z" fill="#DD0707"/>
</svg>
          <p className="md:text-xl text-base font-semibold text-[#DD0707] mt-3">Policy not found in our records</p>
         <p className="md:text-base font-semibold text-[#3B3B3B] text-center mt-3">
          <span className="hidden md:inline">
            At this time, we are unable to find an active policy <br />
            associated with the information provided. Please double-<br />
            check the details and contact us for further assistance.
          </span>
          <span className="inline md:hidden">
            At this time,we are unable to find an active policy<br />associated with the information provided.Please<br />double-check the details and contact us for further<br />assistance.
          </span>
        </p>
        </div>
      )}
            {/* {isPolicyNumberValid === false && isFormatValid &&( Unpaid
        <div className="flex flex-col items-center justify-center text-center p-6">
         <svg width="116" height="115" viewBox="0 0 116 115" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M92.7504 18.3L54.5504 10L51.7504 23.1H25.1504V67.2C25.7504 67.1 26.4504 67.1 27.1504 67.1C27.9504 67.1 28.6504 67.1 29.4504 67.2V27.4H61.2504V42.9H76.7504V87H47.5504C47.5504 87.2 47.5504 87.4 47.5504 87.6C47.5504 88.9 47.4504 90 47.1504 91.2H80.8504V85.3L94.6504 88.3L105.45 38.1L92.7504 18.3ZM92.3504 25.6L98.7504 35.5L90.6504 33.7L92.3504 25.6ZM65.4504 38.7V30.4L73.7504 38.7H65.4504ZM91.4504 83.3L80.9504 81.1V73.1L85.1504 74L86.0504 69.8L80.9504 68.7V60.7L87.7504 62.2L88.6504 58L80.9504 56.4V48.4L90.2504 50.4L91.1504 46.2L80.9504 44V39.9L64.1504 23.1H56.0504L57.7504 15L88.8504 21.7L85.5504 36.9L100.75 40.2L91.4504 83.3Z" fill="#DD0707"/>
<path d="M68.5504 74.9004H43.1504C44.1504 76.2004 45.0504 77.6004 45.7504 79.1004H68.5504V74.9004Z" fill="#DD0707"/>
<path d="M68.5508 62.7998H37.5508V66.9998H68.5508V62.7998Z" fill="#DD0707"/>
<path d="M27.1508 71C17.9508 71 10.5508 78.4 10.5508 87.6C10.5508 96.8 17.9508 104.2 27.1508 104.2C36.3508 104.2 43.7508 96.8 43.7508 87.6C43.7508 78.4 36.2508 71 27.1508 71ZM33.5508 91.7C34.1508 92.3 34.1508 93.4 33.5508 94C33.2508 94.3 32.8508 94.5 32.3508 94.5C31.9508 94.5 31.5508 94.3 31.1508 94L27.0508 89.9L22.9508 94.1C22.6508 94.4 22.2508 94.6 21.7508 94.6C21.2508 94.6 20.9508 94.4 20.5508 94.1C19.9508 93.5 19.9508 92.4 20.5508 91.8L24.6508 87.7L20.5508 83.6C19.9508 83 19.9508 81.9 20.5508 81.3C21.1508 80.7 22.2508 80.7 22.8508 81.3L26.9508 85.4L31.0508 81.3C31.6508 80.7 32.7508 80.7 33.3508 81.3C33.9508 81.9 33.9508 83 33.3508 83.6L29.2508 87.7L33.5508 91.7Z" fill="#DD0707"/>
<path d="M40.5758 53.0996V44.5246H38.5758V42.3746H40.5758V40.5746H38.5758V38.4246H40.5758V35.4746H45.1758C46.4091 35.4746 47.4758 35.7579 48.3758 36.3246C49.2924 36.8913 49.9758 37.7079 50.4258 38.7746L49.6008 38.4246H52.5508V40.5746H50.5008L50.8008 40.3496C50.8674 40.6829 50.9008 41.0413 50.9008 41.4246C50.9008 41.8079 50.8591 42.1746 50.7758 42.5246L50.4758 42.3746H52.5508V44.5246H49.6258L50.3758 44.1496C49.9424 45.1996 49.2758 46.0163 48.3758 46.5996C47.4758 47.1829 46.4091 47.4746 45.1758 47.4746H44.3258V53.0996H40.5758ZM44.1758 44.9246H45.3258C45.8424 44.9246 46.2758 44.8246 46.6258 44.6246C46.9924 44.4079 47.2674 44.0579 47.4508 43.5746C47.6341 43.0746 47.7258 42.3829 47.7258 41.4996C47.7258 40.6163 47.6341 39.9246 47.4508 39.4246C47.2674 38.9246 46.9924 38.5746 46.6258 38.3746C46.2758 38.1579 45.8424 38.0496 45.3258 38.0496H44.1758V44.9246Z" fill="#DD0707"/>
</svg>


          <p className="md:text-xl text-base font-semibold text-[#DD0707] mt-3">Unpaid Premium</p>
          <p className="md:text-base font-semibold text-[#3B3B3B] text-center mt-3">Please be advised that your policy has an outstanding <br></br>balance. Claims processing can only proceed once payment<br></br> has been received.</p>
        </div>
      )} */}
      
        {isPolicyTaken === true && isFormatValid &&( 
        <div className="flex flex-col items-center justify-center text-center p-6">
         <svg xmlns="http://www.w3.org/2000/svg" width="102" height="124" viewBox="0 0 102 124" fill="none" className="hidden md:inline">
  <mask id="path-1-outside-1_20912_7697" maskUnits="userSpaceOnUse" x="9.5" y="20" width="85" height="85" fill="black">
    <rect fill="white" x="9.5" y="20" width="85" height="85"/>
    <path d="M77.8685 59.9621L59.7491 52.0327C59.0462 51.7277 58.2499 51.8892 57.7263 52.4489C57.2027 53.005 57.0879 53.8088 57.4322 54.4905L61.3811 62.2656L57.4358 70.0371C57.0879 70.7224 57.2026 71.5225 57.7263 72.0822C58.0742 72.4554 58.544 72.6491 59.0247 72.6491C59.2686 72.6491 59.5161 72.5989 59.7528 72.4948L77.8685 64.5655C78.7974 64.16 79.3713 63.2774 79.3713 62.2656C79.3713 61.2537 78.7938 60.3711 77.8685 59.9657L77.8685 59.9621ZM77.0042 62.5921L59.8029 70.1196L63.5438 62.75C63.698 62.4414 63.698 62.0826 63.5438 61.774L59.8029 54.4044L77.0042 61.9319C77.1907 62.0145 77.2194 62.1723 77.2194 62.2584C77.2194 62.3446 77.1943 62.506 77.0042 62.5849V62.5921ZM92.9934 62.2656C92.9934 51.9607 87.1686 43.0052 78.6468 38.4842V32.1263C78.6468 29.159 76.233 26.7443 73.2668 26.7443H70.0388V26.3856C70.0388 23.4183 67.625 21.0036 64.6588 21.0036L25.9226 21C25.6392 21 25.3631 21.1148 25.1622 21.3157L10.8156 35.6676C10.6148 35.8685 10.5 36.1412 10.5 36.4282V92.4009C10.5 95.3682 12.9138 97.7829 15.88 97.7829H19.108V98.1417C19.108 101.109 21.5218 103.524 24.4879 103.524H73.2664C76.2326 103.524 78.6463 101.109 78.6463 98.1417V86.0429C87.1682 81.5221 92.9929 72.5628 92.9929 62.2616L92.9934 62.2656ZM73.2672 28.8976C75.0461 28.8976 76.4951 30.3471 76.4951 32.1268V37.4513C74.4615 36.5938 72.2916 36.0126 70.0392 35.6789V28.8976H73.2672ZM24.8478 24.6746V33.5584C24.8478 34.5486 24.0443 35.3523 23.0545 35.3523H14.1739L24.8478 24.6746ZM12.6534 92.4006V37.5044H23.0545C25.2316 37.5044 26.9999 35.7355 26.9999 33.5576V23.1527H64.66C66.439 23.1527 67.888 24.6022 67.888 26.3818V35.4414C67.2926 35.402 66.7008 35.3517 66.0947 35.3517C57.641 35.3517 50.0981 39.2805 45.1629 45.3985H21.6198C21.0244 45.3985 20.5438 45.8793 20.5438 46.4749C20.5438 47.0705 21.0244 47.5513 21.6198 47.5513H43.5992C42.2973 49.5391 41.2464 51.7061 40.504 54.0096H21.6243C21.0289 54.0096 20.5483 54.4904 20.5483 55.086C20.5483 55.6816 21.0289 56.1624 21.6243 56.1624H39.9237C39.4682 58.125 39.1992 60.163 39.1992 62.2619C39.1992 62.3839 39.2171 62.4987 39.2171 62.6207H21.6247C21.0293 62.6207 20.5487 63.1015 20.5487 63.6971C20.5487 64.2928 21.0293 64.7736 21.6247 64.7736H39.3245C39.5325 67.0196 40.0383 69.1796 40.7663 71.2318H21.6204C21.025 71.2318 20.5444 71.7126 20.5444 72.3083C20.5444 72.9039 21.025 73.3847 21.6204 73.3847H41.6304C42.7028 75.7384 44.1015 77.9091 45.7765 79.8429H21.62C21.0247 79.8429 20.544 80.3237 20.544 80.9194C20.544 81.515 21.0246 81.9958 21.62 81.9958H47.8672C52.6662 86.4341 59.058 89.1717 66.0949 89.1717C66.7011 89.1717 67.2929 89.1215 67.8882 89.082V92.4009C67.8882 94.1805 66.4393 95.63 64.6603 95.63H15.8819C14.1029 95.63 12.6534 94.1802 12.6534 92.4006ZM76.4955 98.1413C76.4955 99.921 75.0465 101.37 73.2675 101.37H24.4891C22.7101 101.37 21.2612 99.921 21.2612 98.1413V97.7825H64.6599C67.6261 97.7825 70.0399 95.3679 70.0399 92.4006V88.8485C72.2923 88.5148 74.4623 87.93 76.4958 87.076L76.4955 98.1413ZM66.0943 87.019C52.4474 87.019 41.3466 75.9141 41.3466 62.2622C41.3466 48.6102 52.4474 37.5053 66.0943 37.5053C79.7413 37.5053 90.8421 48.6102 90.8421 62.2622C90.8421 75.9141 79.7413 87.019 66.0943 87.019Z"/>
  </mask>
  <path d="M77.8685 59.9621L59.7491 52.0327C59.0462 51.7277 58.2499 51.8892 57.7263 52.4489C57.2027 53.005 57.0879 53.8088 57.4322 54.4905L61.3811 62.2656L57.4358 70.0371C57.0879 70.7224 57.2026 71.5225 57.7263 72.0822C58.0742 72.4554 58.544 72.6491 59.0247 72.6491C59.2686 72.6491 59.5161 72.5989 59.7528 72.4948L77.8685 64.5655C78.7974 64.16 79.3713 63.2774 79.3713 62.2656C79.3713 61.2537 78.7938 60.3711 77.8685 59.9657L77.8685 59.9621ZM77.0042 62.5921L59.8029 70.1196L63.5438 62.75C63.698 62.4414 63.698 62.0826 63.5438 61.774L59.8029 54.4044L77.0042 61.9319C77.1907 62.0145 77.2194 62.1723 77.2194 62.2584C77.2194 62.3446 77.1943 62.506 77.0042 62.5849V62.5921ZM92.9934 62.2656C92.9934 51.9607 87.1686 43.0052 78.6468 38.4842V32.1263C78.6468 29.159 76.233 26.7443 73.2668 26.7443H70.0388V26.3856C70.0388 23.4183 67.625 21.0036 64.6588 21.0036L25.9226 21C25.6392 21 25.3631 21.1148 25.1622 21.3157L10.8156 35.6676C10.6148 35.8685 10.5 36.1412 10.5 36.4282V92.4009C10.5 95.3682 12.9138 97.7829 15.88 97.7829H19.108V98.1417C19.108 101.109 21.5218 103.524 24.4879 103.524H73.2664C76.2326 103.524 78.6463 101.109 78.6463 98.1417V86.0429C87.1682 81.5221 92.9929 72.5628 92.9929 62.2616L92.9934 62.2656ZM73.2672 28.8976C75.0461 28.8976 76.4951 30.3471 76.4951 32.1268V37.4513C74.4615 36.5938 72.2916 36.0126 70.0392 35.6789V28.8976H73.2672ZM24.8478 24.6746V33.5584C24.8478 34.5486 24.0443 35.3523 23.0545 35.3523H14.1739L24.8478 24.6746ZM12.6534 92.4006V37.5044H23.0545C25.2316 37.5044 26.9999 35.7355 26.9999 33.5576V23.1527H64.66C66.439 23.1527 67.888 24.6022 67.888 26.3818V35.4414C67.2926 35.402 66.7008 35.3517 66.0947 35.3517C57.641 35.3517 50.0981 39.2805 45.1629 45.3985H21.6198C21.0244 45.3985 20.5438 45.8793 20.5438 46.4749C20.5438 47.0705 21.0244 47.5513 21.6198 47.5513H43.5992C42.2973 49.5391 41.2464 51.7061 40.504 54.0096H21.6243C21.0289 54.0096 20.5483 54.4904 20.5483 55.086C20.5483 55.6816 21.0289 56.1624 21.6243 56.1624H39.9237C39.4682 58.125 39.1992 60.163 39.1992 62.2619C39.1992 62.3839 39.2171 62.4987 39.2171 62.6207H21.6247C21.0293 62.6207 20.5487 63.1015 20.5487 63.6971C20.5487 64.2928 21.0293 64.7736 21.6247 64.7736H39.3245C39.5325 67.0196 40.0383 69.1796 40.7663 71.2318H21.6204C21.025 71.2318 20.5444 71.7126 20.5444 72.3083C20.5444 72.9039 21.025 73.3847 21.6204 73.3847H41.6304C42.7028 75.7384 44.1015 77.9091 45.7765 79.8429H21.62C21.0247 79.8429 20.544 80.3237 20.544 80.9194C20.544 81.515 21.0246 81.9958 21.62 81.9958H47.8672C52.6662 86.4341 59.058 89.1717 66.0949 89.1717C66.7011 89.1717 67.2929 89.1215 67.8882 89.082V92.4009C67.8882 94.1805 66.4393 95.63 64.6603 95.63H15.8819C14.1029 95.63 12.6534 94.1802 12.6534 92.4006ZM76.4955 98.1413C76.4955 99.921 75.0465 101.37 73.2675 101.37H24.4891C22.7101 101.37 21.2612 99.921 21.2612 98.1413V97.7825H64.6599C67.6261 97.7825 70.0399 95.3679 70.0399 92.4006V88.8485C72.2923 88.5148 74.4623 87.93 76.4958 87.076L76.4955 98.1413ZM66.0943 87.019C52.4474 87.019 41.3466 75.9141 41.3466 62.2622C41.3466 48.6102 52.4474 37.5053 66.0943 37.5053C79.7413 37.5053 90.8421 48.6102 90.8421 62.2622C90.8421 75.9141 79.7413 87.019 66.0943 87.019Z" fill="#DD0707"/>
  <path d="M77.8685 59.9621L59.7491 52.0327C59.0462 51.7277 58.2499 51.8892 57.7263 52.4489C57.2027 53.005 57.0879 53.8088 57.4322 54.4905L61.3811 62.2656L57.4358 70.0371C57.0879 70.7224 57.2026 71.5225 57.7263 72.0822C58.0742 72.4554 58.544 72.6491 59.0247 72.6491C59.2686 72.6491 59.5161 72.5989 59.7528 72.4948L77.8685 64.5655C78.7974 64.16 79.3713 63.2774 79.3713 62.2656C79.3713 61.2537 78.7938 60.3711 77.8685 59.9657L77.8685 59.9621ZM77.0042 62.5921L59.8029 70.1196L63.5438 62.75C63.698 62.4414 63.698 62.0826 63.5438 61.774L59.8029 54.4044L77.0042 61.9319C77.1907 62.0145 77.2194 62.1723 77.2194 62.2584C77.2194 62.3446 77.1943 62.506 77.0042 62.5849V62.5921ZM92.9934 62.2656C92.9934 51.9607 87.1686 43.0052 78.6468 38.4842V32.1263C78.6468 29.159 76.233 26.7443 73.2668 26.7443H70.0388V26.3856C70.0388 23.4183 67.625 21.0036 64.6588 21.0036L25.9226 21C25.6392 21 25.3631 21.1148 25.1622 21.3157L10.8156 35.6676C10.6148 35.8685 10.5 36.1412 10.5 36.4282V92.4009C10.5 95.3682 12.9138 97.7829 15.88 97.7829H19.108V98.1417C19.108 101.109 21.5218 103.524 24.4879 103.524H73.2664C76.2326 103.524 78.6463 101.109 78.6463 98.1417V86.0429C87.1682 81.5221 92.9929 72.5628 92.9929 62.2616L92.9934 62.2656ZM73.2672 28.8976C75.0461 28.8976 76.4951 30.3471 76.4951 32.1268V37.4513C74.4615 36.5938 72.2916 36.0126 70.0392 35.6789V28.8976H73.2672ZM24.8478 24.6746V33.5584C24.8478 34.5486 24.0443 35.3523 23.0545 35.3523H14.1739L24.8478 24.6746ZM12.6534 92.4006V37.5044H23.0545C25.2316 37.5044 26.9999 35.7355 26.9999 33.5576V23.1527H64.66C66.439 23.1527 67.888 24.6022 67.888 26.3818V35.4414C67.2926 35.402 66.7008 35.3517 66.0947 35.3517C57.641 35.3517 50.0981 39.2805 45.1629 45.3985H21.6198C21.0244 45.3985 20.5438 45.8793 20.5438 46.4749C20.5438 47.0705 21.0244 47.5513 21.6198 47.5513H43.5992C42.2973 49.5391 41.2464 51.7061 40.504 54.0096H21.6243C21.0289 54.0096 20.5483 54.4904 20.5483 55.086C20.5483 55.6816 21.0289 56.1624 21.6243 56.1624H39.9237C39.4682 58.125 39.1992 60.163 39.1992 62.2619C39.1992 62.3839 39.2171 62.4987 39.2171 62.6207H21.6247C21.0293 62.6207 20.5487 63.1015 20.5487 63.6971C20.5487 64.2928 21.0293 64.7736 21.6247 64.7736H39.3245C39.5325 67.0196 40.0383 69.1796 40.7663 71.2318H21.6204C21.025 71.2318 20.5444 71.7126 20.5444 72.3083C20.5444 72.9039 21.025 73.3847 21.6204 73.3847H41.6304C42.7028 75.7384 44.1015 77.9091 45.7765 79.8429H21.62C21.0247 79.8429 20.544 80.3237 20.544 80.9194C20.544 81.515 21.0246 81.9958 21.62 81.9958H47.8672C52.6662 86.4341 59.058 89.1717 66.0949 89.1717C66.7011 89.1717 67.2929 89.1215 67.8882 89.082V92.4009C67.8882 94.1805 66.4393 95.63 64.6603 95.63H15.8819C14.1029 95.63 12.6534 94.1802 12.6534 92.4006ZM76.4955 98.1413C76.4955 99.921 75.0465 101.37 73.2675 101.37H24.4891C22.7101 101.37 21.2612 99.921 21.2612 98.1413V97.7825H64.6599C67.6261 97.7825 70.0399 95.3679 70.0399 92.4006V88.8485C72.2923 88.5148 74.4623 87.93 76.4958 87.076L76.4955 98.1413ZM66.0943 87.019C52.4474 87.019 41.3466 75.9141 41.3466 62.2622C41.3466 48.6102 52.4474 37.5053 66.0943 37.5053C79.7413 37.5053 90.8421 48.6102 90.8421 62.2622C90.8421 75.9141 79.7413 87.019 66.0943 87.019Z" stroke="#DD0707" stroke-width="2" mask="url(#path-1-outside-1_20912_7697)"/>
</svg>
<svg xmlns="http://www.w3.org/2000/svg" width="52" height="53" viewBox="0 0 52 53" fill="none" className="inline md:hidden">
  <mask id="path-1-outside-1_20912_8255" maskUnits="userSpaceOnUse" x="0" y="0.5" width="52" height="52" fill="black">
    <rect fill="white" y="0.5" width="52" height="52"/>
    <path d="M41.8327 25.1066L30.8504 20.3023C30.4243 20.1175 29.9417 20.2154 29.6243 20.5545C29.3069 20.8914 29.2373 21.3784 29.446 21.7915L31.8395 26.5023L29.4482 31.2109C29.2373 31.6261 29.3069 32.1109 29.6243 32.4501C29.8352 32.6761 30.1199 32.7935 30.4113 32.7935C30.5591 32.7935 30.7091 32.7631 30.8526 32.7001L41.8327 27.8957C42.3957 27.6501 42.7435 27.1153 42.7435 26.5023C42.7435 25.8892 42.3935 25.3545 41.8327 25.1088L41.8327 25.1066ZM41.3088 26.7001L30.883 31.2609L33.1503 26.7958C33.2438 26.6088 33.2438 26.3914 33.1503 26.2045L30.883 21.7393L41.3088 26.3001C41.4218 26.3501 41.4392 26.4458 41.4392 26.498C41.4392 26.5501 41.424 26.648 41.3088 26.6958V26.7001ZM51 26.5023C51 20.2587 47.4696 14.8326 42.3044 12.0935V8.24129C42.3044 6.44346 40.8414 4.98043 39.0435 4.98043H37.087V4.76304C37.087 2.96521 35.624 1.50217 33.8262 1.50217L10.3478 1.5C10.176 1.5 10.0086 1.56956 9.88691 1.6913L1.1913 10.3869C1.06956 10.5086 1 10.6739 1 10.8478V44.7609C1 46.5587 2.46303 48.0218 4.26086 48.0218H6.21736V48.2391C6.21736 50.037 7.68039 51.5 9.47823 51.5H39.0433C40.8411 51.5 42.3041 50.037 42.3041 48.2391V40.9087C47.4693 38.1696 50.9997 32.7412 50.9997 26.4999L51 26.5023ZM39.0438 6.28507C40.122 6.28507 41.0003 7.16331 41.0003 8.24157V11.4676C39.7677 10.9481 38.4525 10.5959 37.0873 10.3937V6.28507H39.0438ZM9.69631 3.72637V9.10896C9.69631 9.70894 9.20936 10.1959 8.60937 10.1959H3.22678L9.69631 3.72637ZM2.30519 44.7607V11.4998H8.60943C9.92899 11.4998 11.0007 10.4281 11.0007 9.10851V2.80427H33.8269C34.9052 2.80427 35.7834 3.68251 35.7834 4.76077V10.2499C35.4225 10.226 35.0638 10.1955 34.6965 10.1955C29.5726 10.1955 25.0008 12.5759 22.0095 16.2827H7.73981C7.37894 16.2827 7.08763 16.574 7.08763 16.9349C7.08763 17.2958 7.37893 17.5871 7.73981 17.5871H21.0618C20.2726 18.7915 19.6357 20.1045 19.1857 21.5001H7.74254C7.38167 21.5001 7.09036 21.7914 7.09036 22.1523C7.09036 22.5132 7.38166 22.8045 7.74254 22.8045H18.834C18.5579 23.9936 18.3948 25.2284 18.3948 26.5001C18.3948 26.574 18.4057 26.6435 18.4057 26.7175H7.7428C7.38193 26.7175 7.09062 27.0088 7.09062 27.3696C7.09062 27.7305 7.38192 28.0218 7.7428 28.0218H18.4708C18.5969 29.3827 18.9034 30.6914 19.3447 31.9348H7.74019C7.37932 31.9348 7.088 32.2261 7.088 32.587C7.088 32.9479 7.37931 33.2392 7.74019 33.2392H19.8684C20.5184 34.6653 21.3662 35.9805 22.3814 37.1522H7.73996C7.37909 37.1522 7.08778 37.4435 7.08778 37.8044C7.08778 38.1652 7.37908 38.4565 7.73996 38.4565H23.6486C26.5573 41.1456 30.4314 42.8043 34.6966 42.8043C35.064 42.8043 35.4227 42.7739 35.7835 42.75V44.7609C35.7835 45.8391 34.9053 46.7174 33.827 46.7174H4.262C3.18375 46.7174 2.30519 45.839 2.30519 44.7607ZM41.0005 48.2389C41.0005 49.3172 40.1222 50.1954 39.044 50.1954H9.47893C8.40068 50.1954 7.52244 49.3172 7.52244 48.2389V48.0215H33.8268C35.6247 48.0215 37.0877 46.5585 37.0877 44.7607V42.6085C38.4529 42.4063 39.7681 42.052 41.0007 41.5346L41.0005 48.2389ZM34.6962 41.5001C26.4247 41.5001 19.6964 34.7717 19.6964 26.5002C19.6964 18.2287 26.4247 11.5004 34.6962 11.5004C42.9678 11.5004 49.6961 18.2287 49.6961 26.5002C49.6961 34.7717 42.9678 41.5001 34.6962 41.5001Z"/>
  </mask>
  <path d="M41.8327 25.1066L30.8504 20.3023C30.4243 20.1175 29.9417 20.2154 29.6243 20.5545C29.3069 20.8914 29.2373 21.3784 29.446 21.7915L31.8395 26.5023L29.4482 31.2109C29.2373 31.6261 29.3069 32.1109 29.6243 32.4501C29.8352 32.6761 30.1199 32.7935 30.4113 32.7935C30.5591 32.7935 30.7091 32.7631 30.8526 32.7001L41.8327 27.8957C42.3957 27.6501 42.7435 27.1153 42.7435 26.5023C42.7435 25.8892 42.3935 25.3545 41.8327 25.1088L41.8327 25.1066ZM41.3088 26.7001L30.883 31.2609L33.1503 26.7958C33.2438 26.6088 33.2438 26.3914 33.1503 26.2045L30.883 21.7393L41.3088 26.3001C41.4218 26.3501 41.4392 26.4458 41.4392 26.498C41.4392 26.5501 41.424 26.648 41.3088 26.6958V26.7001ZM51 26.5023C51 20.2587 47.4696 14.8326 42.3044 12.0935V8.24129C42.3044 6.44346 40.8414 4.98043 39.0435 4.98043H37.087V4.76304C37.087 2.96521 35.624 1.50217 33.8262 1.50217L10.3478 1.5C10.176 1.5 10.0086 1.56956 9.88691 1.6913L1.1913 10.3869C1.06956 10.5086 1 10.6739 1 10.8478V44.7609C1 46.5587 2.46303 48.0218 4.26086 48.0218H6.21736V48.2391C6.21736 50.037 7.68039 51.5 9.47823 51.5H39.0433C40.8411 51.5 42.3041 50.037 42.3041 48.2391V40.9087C47.4693 38.1696 50.9997 32.7412 50.9997 26.4999L51 26.5023ZM39.0438 6.28507C40.122 6.28507 41.0003 7.16331 41.0003 8.24157V11.4676C39.7677 10.9481 38.4525 10.5959 37.0873 10.3937V6.28507H39.0438ZM9.69631 3.72637V9.10896C9.69631 9.70894 9.20936 10.1959 8.60937 10.1959H3.22678L9.69631 3.72637ZM2.30519 44.7607V11.4998H8.60943C9.92899 11.4998 11.0007 10.4281 11.0007 9.10851V2.80427H33.8269C34.9052 2.80427 35.7834 3.68251 35.7834 4.76077V10.2499C35.4225 10.226 35.0638 10.1955 34.6965 10.1955C29.5726 10.1955 25.0008 12.5759 22.0095 16.2827H7.73981C7.37894 16.2827 7.08763 16.574 7.08763 16.9349C7.08763 17.2958 7.37893 17.5871 7.73981 17.5871H21.0618C20.2726 18.7915 19.6357 20.1045 19.1857 21.5001H7.74254C7.38167 21.5001 7.09036 21.7914 7.09036 22.1523C7.09036 22.5132 7.38166 22.8045 7.74254 22.8045H18.834C18.5579 23.9936 18.3948 25.2284 18.3948 26.5001C18.3948 26.574 18.4057 26.6435 18.4057 26.7175H7.7428C7.38193 26.7175 7.09062 27.0088 7.09062 27.3696C7.09062 27.7305 7.38192 28.0218 7.7428 28.0218H18.4708C18.5969 29.3827 18.9034 30.6914 19.3447 31.9348H7.74019C7.37932 31.9348 7.088 32.2261 7.088 32.587C7.088 32.9479 7.37931 33.2392 7.74019 33.2392H19.8684C20.5184 34.6653 21.3662 35.9805 22.3814 37.1522H7.73996C7.37909 37.1522 7.08778 37.4435 7.08778 37.8044C7.08778 38.1652 7.37908 38.4565 7.73996 38.4565H23.6486C26.5573 41.1456 30.4314 42.8043 34.6966 42.8043C35.064 42.8043 35.4227 42.7739 35.7835 42.75V44.7609C35.7835 45.8391 34.9053 46.7174 33.827 46.7174H4.262C3.18375 46.7174 2.30519 45.839 2.30519 44.7607ZM41.0005 48.2389C41.0005 49.3172 40.1222 50.1954 39.044 50.1954H9.47893C8.40068 50.1954 7.52244 49.3172 7.52244 48.2389V48.0215H33.8268C35.6247 48.0215 37.0877 46.5585 37.0877 44.7607V42.6085C38.4529 42.4063 39.7681 42.052 41.0007 41.5346L41.0005 48.2389ZM34.6962 41.5001C26.4247 41.5001 19.6964 34.7717 19.6964 26.5002C19.6964 18.2287 26.4247 11.5004 34.6962 11.5004C42.9678 11.5004 49.6961 18.2287 49.6961 26.5002C49.6961 34.7717 42.9678 41.5001 34.6962 41.5001Z" fill="#DD0707"/>
  <path d="M41.8327 25.1066L30.8504 20.3023C30.4243 20.1175 29.9417 20.2154 29.6243 20.5545C29.3069 20.8914 29.2373 21.3784 29.446 21.7915L31.8395 26.5023L29.4482 31.2109C29.2373 31.6261 29.3069 32.1109 29.6243 32.4501C29.8352 32.6761 30.1199 32.7935 30.4113 32.7935C30.5591 32.7935 30.7091 32.7631 30.8526 32.7001L41.8327 27.8957C42.3957 27.6501 42.7435 27.1153 42.7435 26.5023C42.7435 25.8892 42.3935 25.3545 41.8327 25.1088L41.8327 25.1066ZM41.3088 26.7001L30.883 31.2609L33.1503 26.7958C33.2438 26.6088 33.2438 26.3914 33.1503 26.2045L30.883 21.7393L41.3088 26.3001C41.4218 26.3501 41.4392 26.4458 41.4392 26.498C41.4392 26.5501 41.424 26.648 41.3088 26.6958V26.7001ZM51 26.5023C51 20.2587 47.4696 14.8326 42.3044 12.0935V8.24129C42.3044 6.44346 40.8414 4.98043 39.0435 4.98043H37.087V4.76304C37.087 2.96521 35.624 1.50217 33.8262 1.50217L10.3478 1.5C10.176 1.5 10.0086 1.56956 9.88691 1.6913L1.1913 10.3869C1.06956 10.5086 1 10.6739 1 10.8478V44.7609C1 46.5587 2.46303 48.0218 4.26086 48.0218H6.21736V48.2391C6.21736 50.037 7.68039 51.5 9.47823 51.5H39.0433C40.8411 51.5 42.3041 50.037 42.3041 48.2391V40.9087C47.4693 38.1696 50.9997 32.7412 50.9997 26.4999L51 26.5023ZM39.0438 6.28507C40.122 6.28507 41.0003 7.16331 41.0003 8.24157V11.4676C39.7677 10.9481 38.4525 10.5959 37.0873 10.3937V6.28507H39.0438ZM9.69631 3.72637V9.10896C9.69631 9.70894 9.20936 10.1959 8.60937 10.1959H3.22678L9.69631 3.72637ZM2.30519 44.7607V11.4998H8.60943C9.92899 11.4998 11.0007 10.4281 11.0007 9.10851V2.80427H33.8269C34.9052 2.80427 35.7834 3.68251 35.7834 4.76077V10.2499C35.4225 10.226 35.0638 10.1955 34.6965 10.1955C29.5726 10.1955 25.0008 12.5759 22.0095 16.2827H7.73981C7.37894 16.2827 7.08763 16.574 7.08763 16.9349C7.08763 17.2958 7.37893 17.5871 7.73981 17.5871H21.0618C20.2726 18.7915 19.6357 20.1045 19.1857 21.5001H7.74254C7.38167 21.5001 7.09036 21.7914 7.09036 22.1523C7.09036 22.5132 7.38166 22.8045 7.74254 22.8045H18.834C18.5579 23.9936 18.3948 25.2284 18.3948 26.5001C18.3948 26.574 18.4057 26.6435 18.4057 26.7175H7.7428C7.38193 26.7175 7.09062 27.0088 7.09062 27.3696C7.09062 27.7305 7.38192 28.0218 7.7428 28.0218H18.4708C18.5969 29.3827 18.9034 30.6914 19.3447 31.9348H7.74019C7.37932 31.9348 7.088 32.2261 7.088 32.587C7.088 32.9479 7.37931 33.2392 7.74019 33.2392H19.8684C20.5184 34.6653 21.3662 35.9805 22.3814 37.1522H7.73996C7.37909 37.1522 7.08778 37.4435 7.08778 37.8044C7.08778 38.1652 7.37908 38.4565 7.73996 38.4565H23.6486C26.5573 41.1456 30.4314 42.8043 34.6966 42.8043C35.064 42.8043 35.4227 42.7739 35.7835 42.75V44.7609C35.7835 45.8391 34.9053 46.7174 33.827 46.7174H4.262C3.18375 46.7174 2.30519 45.839 2.30519 44.7607ZM41.0005 48.2389C41.0005 49.3172 40.1222 50.1954 39.044 50.1954H9.47893C8.40068 50.1954 7.52244 49.3172 7.52244 48.2389V48.0215H33.8268C35.6247 48.0215 37.0877 46.5585 37.0877 44.7607V42.6085C38.4529 42.4063 39.7681 42.052 41.0007 41.5346L41.0005 48.2389ZM34.6962 41.5001C26.4247 41.5001 19.6964 34.7717 19.6964 26.5002C19.6964 18.2287 26.4247 11.5004 34.6962 11.5004C42.9678 11.5004 49.6961 18.2287 49.6961 26.5002C49.6961 34.7717 42.9678 41.5001 34.6962 41.5001Z" stroke="#DD0707" stroke-width="2" mask="url(#path-1-outside-1_20912_8255)"/>
</svg>
          <p className="md:text-xl text-base font-semibold text-[#DD0707] mt-3">Processing Claim</p>
 <span className="md:text-base font-semibold text-[#3B3B3B] text-center mt-3 hidden md:inline">
            Please note that you already submitted your claim <br />
            and is currently under process. <br />
            Contact our Customer Service for assistance.
          </span>
          <span className="md:text-base font-semibold text-[#3B3B3B] text-center mt-3 inline md:hidden">
            Please note that you already submitted your <br /> claim 
and is currently under process. <br />
Contact our Customer Service for assistance.
          </span>
        </div>
      )}
     <div className="w-full flex flex-col items-center justify-center px-4">
  <div className="w-full max-w-[420px] md:max-w-[500px] items-center justify-center flex flex-col">
<input
  type="text"
  disabled={!isFormatValid || isPolicyNumberValid === false || isPolicyTaken === true}
  className={`${
    !isFormatValid
      ? "border-[#DD0707] text-[#848A90] bg-[#FFF7F7] cursor-not-allowed "
      : "border-[#A8D9D9] text-[#2D2727]" 
  } bg-[#FFFEFE] border md:py-4 py-3 md:px-6 px-6 md:w-full w-[300px] text-center focus:outline-none focus:ring-0 rounded focus:border-[#008080] md:text-xl text-base font-bold`}
  value={policyNumber}
  maxLength={50}
   onChange={(e) => {
        const rawValue = e.target.value;
        const cleaned = rawValue.replace(/\s+/g, "").toUpperCase();
        setPolicyNumber(cleaned);
      }}
/>
  {/* CAPTCHA */}
      <div ref={captchaRef} className="g-recaptcha mt-4 mb-0" id="recaptcha" />

      {!isFormatValid && (       
         <div className="md:py-4 py-3 md:px-6 px-3 md:w-full w-[300px] flex bg-[#FFF7F7] border-l-2 border-[#DD0707] mt-4 rounded-md">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" className="mr-3 mt-2">
<path d="M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z" stroke="#DD0707" stroke-width="2" stroke-miterlimit="10"/>
<path d="M12 7.5V12.75" stroke="#DD0707" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M12 17.25C12.6213 17.25 13.125 16.7463 13.125 16.125C13.125 15.5037 12.6213 15 12 15C11.3787 15 10.875 15.5037 10.875 16.125C10.875 16.7463 11.3787 17.25 12 17.25Z" fill="#DD0707"/>
</svg>
<div className="flex flex-col gap-1">
          <p className="text-left text-sm text-[#DD0707] font-medium">INCORRECT POLICY NUMBER</p>
          <p className="text-xs text-[#2D2727] font-medium">
            You have entered an incorrect policy number.{" "}
            <span
              className="text-[#008080] font-bold cursor-pointer"
              onClick={() => {
                setPolicyNumber("");
                setIsFormatValid(true);
                setIsPolicyNumberValid(null);
              }}
            >
              Enter new policy number.
            </span>
          </p>
          </div>
        </div>
      )}

    {isPolicyNumberValid === true ? (
      <button
        className="bg-[#E4509A] hover:bg-[#d14087] text-[#FFFEFE] font-bold md:text-xl text-base rounded-full w-full md:p-5 max-w-[200px] md:max-w-[260px] p-4 mt-5"
        onClick={handleStartClaim}>
        Begin Online Claim
      </button>
    ) : isPolicyNumberValid === false && isFormatValid ? (
      <div className="flex flex-col items-center gap-6 w-full mt-5">
        <a className="md:w-full w-[295px] bg-[#E4509A] hover:bg-[#d14087] text-[#FFFEFE] font-bold md:text-xl text-base rounded-full md:py-4 py-3 md:px-6 px-6 text-center" href="https://www.cocogen.com/client-services">
          Contact Customer Service
        </a>
        <button className="md:w-full w-[295px] bg-[#FFFEFE] border border-[#E95598] font-bold text-[#E4509A] md:text-xl text-base rounded-full md:py-4 py-3 px-6 md:px-6"
          onClick={() => {
            setPolicyNumber("");
            setIsFormatValid(true);
            setIsPolicyNumberValid(null);
            setIsPolicyTaken(false);
          }}
        >
          Enter New Policy Number
        </button>
      </div>
    ) : (
      <button id="verify"
        className={`w-full bg-[#E4509A] hover:bg-[#d14087] text-[#FFFEFE] md:text-xl text-base font-bold rounded-full md:p-5 max-w-[200px] md:max-w-[260px] p-4 mt-6 ${
        !isFormatValid ? "opacity-50 cursor-not-allowed" : ""
      }`}
        onClick={handleVerify}
        disabled={!isFormatValid}>
        Verify Policy Number
      </button>
    )}

            <div className="flex flex-col bg-[#F5F5F5] border-l-2 border-[#003592] md:py-4 py-3 md:px-6 px-3 md:w-full w-full rounded-md mb-28 mt-6">
                <p className="text-[#2D2727] md:text-sm text-xs leading-6 font-bold mb-1">
                    Do you prefer paper submission?
                </p>
                <p className="text-[#2D2727] text-xs">
                    Find necessary information and proper claim form related <br className="block md:hidden" />  to
                    your claim{" "}
                    <button className="text-[#008080] underline font-bold" onClick={handleOpen}>here.</button>
                    <PaperSubmission
                    isOpen={isModalOpen}
                    onClose={handleClose}
                    onConfirm={handleConfirm}
                  />
                </p>
                </div>
            </div>
            </div>
            </div>
    );
};

export default OnlineClaims;