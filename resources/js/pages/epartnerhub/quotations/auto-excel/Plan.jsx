import { useState } from "react";

const Plan = ({ dispatch }) => {
    const [selectedPlan, setSelectedPlan] = useState(null);

    const handleNext = () => {
        dispatch({ type: "NEXT_STEP" });
    };
    const handlePrev = () => {
        dispatch({ type: "PREVIOUS_STEP" });
    };

    return (
        <div className="flex flex-col w-full max-w-4xl gap-10">
            <div className="flex flex-col md:flex-row justify-between gap-6">
                <div
                    className={`flex flex-col border  rounded-lg p-4 w-full gap-2 cursor-pointer hover:bg-[#F0FAFF] ${
                        selectedPlan === "withTurbo"
                            ? "bg-[#F0FAFF] border-[#90CCCC]"
                            : ""
                    }`}
                    onClick={() => setSelectedPlan("withTurbo")}
                >
                    <div className="flex justify-between">
                        <p className="text-[#585858] font-medium text-sm">
                            Premium with Turbo Shield
                        </p>
                        {selectedPlan === "withTurbo" ? (
                            <svg
                                width="22"
                                height="22"
                                viewBox="0 0 22 22"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    d="M11 0C8.82441 0 6.69767 0.645139 4.88873 1.85383C3.07979 3.06253 1.66989 4.78049 0.83733 6.79048C0.00476611 8.80047 -0.213071 11.0122 0.211367 13.146C0.635804 15.2798 1.68345 17.2398 3.22183 18.7782C4.76021 20.3165 6.72022 21.3642 8.85401 21.7886C10.9878 22.2131 13.1995 21.9952 15.2095 21.1627C17.2195 20.3301 18.9375 18.9202 20.1462 17.1113C21.3549 15.3023 22 13.1756 22 11C21.9969 8.08356 20.837 5.28746 18.7748 3.22523C16.7125 1.16299 13.9164 0.00307981 11 0ZM15.8294 9.06019L9.90635 14.9833C9.82776 15.0619 9.73444 15.1244 9.63172 15.1669C9.529 15.2095 9.41889 15.2314 9.3077 15.2314C9.1965 15.2314 9.08639 15.2095 8.98367 15.1669C8.88095 15.1244 8.78763 15.0619 8.70904 14.9833L6.17058 12.4448C6.01181 12.286 5.92261 12.0707 5.92261 11.8462C5.92261 11.6216 6.01181 11.4063 6.17058 11.2475C6.32935 11.0887 6.5447 10.9995 6.76923 10.9995C6.99377 10.9995 7.20912 11.0887 7.36789 11.2475L9.3077 13.1884L14.6321 7.86288C14.7107 7.78427 14.8041 7.7219 14.9068 7.67936C15.0095 7.63681 15.1196 7.61491 15.2308 7.61491C15.342 7.61491 15.452 7.63681 15.5548 7.67936C15.6575 7.7219 15.7508 7.78427 15.8294 7.86288C15.908 7.9415 15.9704 8.03483 16.0129 8.13755C16.0555 8.24026 16.0774 8.35036 16.0774 8.46154C16.0774 8.57272 16.0555 8.68281 16.0129 8.78553C15.9704 8.88824 15.908 8.98158 15.8294 9.06019Z"
                                    fill="#039855"
                                />
                            </svg>
                        ) : (
                            <div className="h-6 w-6 rounded-full border-2 border-[#D7DEE3]"></div>
                        )}
                    </div>
                    <p className="font-medium text-[23px] text-[#2D2727]">
                        ₱500.00
                    </p>
                    <a
                        className="text-[#008080] text-xs font-medium text-start"
                        onClick={(e) => {
                            e.stopPropagation();
                            dispatch({ type: "VIEW_PLAN" });
                        }}
                    >
                        View Plan Details
                    </a>
                </div>
                <div
                    className={`flex flex-col border  rounded-lg p-4 w-full gap-2 cursor-pointer hover:bg-[#F0FAFF] ${
                        selectedPlan === "withoutTurbo"
                            ? "bg-[#F0FAFF] border-[#90CCCC]"
                            : ""
                    }`}
                    onClick={() => setSelectedPlan("withoutTurbo")}
                >
                    <div className="flex justify-between">
                        <p className="text-[#585858] font-medium text-sm">
                            Premium without Turbo Shield
                        </p>
                        {selectedPlan === "withoutTurbo" ? (
                            <svg
                                width="22"
                                height="22"
                                viewBox="0 0 22 22"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    d="M11 0C8.82441 0 6.69767 0.645139 4.88873 1.85383C3.07979 3.06253 1.66989 4.78049 0.83733 6.79048C0.00476611 8.80047 -0.213071 11.0122 0.211367 13.146C0.635804 15.2798 1.68345 17.2398 3.22183 18.7782C4.76021 20.3165 6.72022 21.3642 8.85401 21.7886C10.9878 22.2131 13.1995 21.9952 15.2095 21.1627C17.2195 20.3301 18.9375 18.9202 20.1462 17.1113C21.3549 15.3023 22 13.1756 22 11C21.9969 8.08356 20.837 5.28746 18.7748 3.22523C16.7125 1.16299 13.9164 0.00307981 11 0ZM15.8294 9.06019L9.90635 14.9833C9.82776 15.0619 9.73444 15.1244 9.63172 15.1669C9.529 15.2095 9.41889 15.2314 9.3077 15.2314C9.1965 15.2314 9.08639 15.2095 8.98367 15.1669C8.88095 15.1244 8.78763 15.0619 8.70904 14.9833L6.17058 12.4448C6.01181 12.286 5.92261 12.0707 5.92261 11.8462C5.92261 11.6216 6.01181 11.4063 6.17058 11.2475C6.32935 11.0887 6.5447 10.9995 6.76923 10.9995C6.99377 10.9995 7.20912 11.0887 7.36789 11.2475L9.3077 13.1884L14.6321 7.86288C14.7107 7.78427 14.8041 7.7219 14.9068 7.67936C15.0095 7.63681 15.1196 7.61491 15.2308 7.61491C15.342 7.61491 15.452 7.63681 15.5548 7.67936C15.6575 7.7219 15.7508 7.78427 15.8294 7.86288C15.908 7.9415 15.9704 8.03483 16.0129 8.13755C16.0555 8.24026 16.0774 8.35036 16.0774 8.46154C16.0774 8.57272 16.0555 8.68281 16.0129 8.78553C15.9704 8.88824 15.908 8.98158 15.8294 9.06019Z"
                                    fill="#039855"
                                />
                            </svg>
                        ) : (
                            <div className="h-6 w-6 rounded-full border-2 border-[#D7DEE3]"></div>
                        )}
                    </div>
                    <p className="font-medium text-[23px] text-[#2D2727]">
                        ₱300.00
                    </p>
                    <a
                        className="text-[#008080] text-xs font-medium text-start"
                        onClick={(e) => {
                            e.stopPropagation();
                            dispatch({ type: "VIEW_PLAN" });
                        }}
                    >
                        View Plan Details
                    </a>
                </div>
            </div>
            <div className="flex bg-[#E1F4E5] gap-3 md:gap-6 p-4 md:p-6">
                <svg
                    width="17"
                    height="22"
                    viewBox="0 0 17 22"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M13.0001 20.75C13.0001 20.9489 12.9211 21.1396 12.7805 21.2803C12.6398 21.4209 12.449 21.5 12.2501 21.5H4.75012C4.55121 21.5 4.36045 21.4209 4.21979 21.2803C4.07914 21.1396 4.00012 20.9489 4.00012 20.75C4.00012 20.551 4.07914 20.3603 4.21979 20.2196C4.36045 20.079 4.55121 20 4.75012 20H12.2501C12.449 20 12.6398 20.079 12.7805 20.2196C12.9211 20.3603 13.0001 20.551 13.0001 20.75ZM16.7501 8.74995C16.7534 10.0002 16.4709 11.2347 15.9243 12.3592C15.3778 13.4837 14.5815 14.4685 13.5964 15.2384C13.4122 15.3796 13.2627 15.561 13.1593 15.7688C13.056 15.9767 13.0015 16.2054 13.0001 16.4375V17C13.0001 17.3978 12.8421 17.7793 12.5608 18.0606C12.2795 18.3419 11.8979 18.5 11.5001 18.5H5.50012C5.1023 18.5 4.72077 18.3419 4.43946 18.0606C4.15816 17.7793 4.00012 17.3978 4.00012 17V16.4375C3.99997 16.2081 3.94724 15.9819 3.84599 15.7762C3.74474 15.5704 3.59766 15.3906 3.41606 15.2506C2.43337 14.4852 1.63767 13.5064 1.08916 12.3881C0.540664 11.2698 0.253744 10.0414 0.250123 8.79589C0.225748 4.32777 3.837 0.606828 8.30137 0.499953C9.40139 0.473445 10.4956 0.667253 11.5196 1.06997C12.5436 1.47269 13.4767 2.07617 14.2639 2.84491C15.0512 3.61365 15.6767 4.53211 16.1037 5.54622C16.5306 6.56034 16.7504 7.64962 16.7501 8.74995ZM13.7398 7.87433C13.5453 6.78804 13.0227 5.78742 12.2423 5.00717C11.4619 4.22692 10.4611 3.70451 9.37481 3.51027C9.27767 3.49389 9.17826 3.49681 9.08225 3.51886C8.98624 3.5409 8.89552 3.58164 8.81525 3.63875C8.73499 3.69586 8.66676 3.76821 8.61446 3.85169C8.56216 3.93517 8.52681 4.02813 8.51044 4.12527C8.49406 4.2224 8.49698 4.32181 8.51902 4.41782C8.54107 4.51383 8.58181 4.60456 8.63892 4.68482C8.69602 4.76509 8.76838 4.83332 8.85186 4.88562C8.93534 4.93792 9.0283 4.97327 9.12543 4.98964C10.6789 5.2512 11.997 6.56933 12.2604 8.12558C12.2901 8.30026 12.3807 8.45879 12.5161 8.57307C12.6515 8.68736 12.8229 8.75002 13.0001 8.74995C13.0425 8.7497 13.0848 8.74625 13.1267 8.73964C13.3227 8.70617 13.4974 8.59621 13.6124 8.43394C13.7274 8.27167 13.7732 8.07038 13.7398 7.87433Z"
                        fill="#54B947"
                    />
                </svg>
                <p className="text-[#303030] text-xs md:text-base font-medium">
                    You have selected Premium with Turbo Shield with total
                    amount of ₱500.00
                </p>
            </div>
            <div className="flex flex-col-reverse md:flex-row w-full justify-between gap-4">
                <button
                    className="text-[#013353] border border-[#013353] rounded-md px-4 py-2 w-full"
                    onClick={handlePrev}
                >
                    Back
                </button>
                <button
                    className="bg-[#013353] text-white rounded-md px-4 py-2 w-full"
                    onClick={handleNext}
                >
                    Continue
                </button>
            </div>
        </div>
    );
};

export default Plan;
