import React from "react";
import DropdownMultiple from "../DropdownMultiple";

const SelectDestination = ({
    divData,
    handleDeleteDiv,
    handleAddDiv,
    index,
    item,
    provinces,
    handleSelectChange,
    destinationType,
    resetValue = false,
    errors = "",
}) => {
    return (
        <div className="flex flex-col w-full">
            <div className="flex items-center justify-between md:hidden w-full mb-5">
                <span className=" text-[#2D2727] text-sm font-medium">
                    Destination {index + 1}
                </span>
                <span>
                    {divData.length !== 1 && (
                        <button onClick={() => handleDeleteDiv(item.id)}>
                            <svg
                                width="16"
                                height="24"
                                viewBox="0 0 31 30"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    d="M27.6875 0.375H3.3125C2.66603 0.375 2.04605 0.631807 1.58893 1.08893C1.13181 1.54605 0.875 2.16603 0.875 2.8125V27.1875C0.875 27.834 1.13181 28.454 1.58893 28.9111C2.04605 29.3682 2.66603 29.625 3.3125 29.625H27.6875C28.334 29.625 28.954 29.3682 29.4111 28.9111C29.8682 28.454 30.125 27.834 30.125 27.1875V2.8125C30.125 2.16603 29.8682 1.54605 29.4111 1.08893C28.954 0.631807 28.334 0.375 27.6875 0.375ZM27.6875 27.1875H3.3125V2.8125H27.6875V27.1875ZM21.2373 10.9873L17.223 15L21.2373 19.0127C21.3505 19.126 21.4403 19.2604 21.5016 19.4083C21.5629 19.5563 21.5944 19.7149 21.5944 19.875C21.5944 20.0351 21.5629 20.1937 21.5016 20.3417C21.4403 20.4896 21.3505 20.624 21.2373 20.7373C21.124 20.8505 20.9896 20.9403 20.8417 21.0016C20.6937 21.0629 20.5351 21.0944 20.375 21.0944C20.2149 21.0944 20.0563 21.0629 19.9083 21.0016C19.7604 20.9403 19.626 20.8505 19.5127 20.7373L15.5 16.723L11.4873 20.7373C11.374 20.8505 11.2396 20.9403 11.0917 21.0016C10.9437 21.0629 10.7851 21.0944 10.625 21.0944C10.4649 21.0944 10.3063 21.0629 10.1583 21.0016C10.0104 20.9403 9.87597 20.8505 9.76273 20.7373C9.6495 20.624 9.55968 20.4896 9.49839 20.3417C9.43711 20.1937 9.40557 20.0351 9.40557 19.875C9.40557 19.7149 9.43711 19.5563 9.49839 19.4083C9.55968 19.2604 9.6495 19.126 9.76273 19.0127L13.777 15L9.76273 10.9873C9.53405 10.7586 9.40557 10.4484 9.40557 10.125C9.40557 9.80159 9.53405 9.49142 9.76273 9.26273C9.99142 9.03405 10.3016 8.90557 10.625 8.90557C10.9484 8.90557 11.2586 9.03405 11.4873 9.26273L15.5 13.277L19.5127 9.26273C19.626 9.1495 19.7604 9.05968 19.9083 8.99839C20.0563 8.93711 20.2149 8.90557 20.375 8.90557C20.5351 8.90557 20.6937 8.93711 20.8417 8.99839C20.9896 9.05968 21.124 9.1495 21.2373 9.26273C21.3505 9.37597 21.4403 9.5104 21.5016 9.65835C21.5629 9.80629 21.5944 9.96486 21.5944 10.125C21.5944 10.2851 21.5629 10.4437 21.5016 10.5917C21.4403 10.7396 21.3505 10.874 21.2373 10.9873Z"
                                    fill="#DD0707"
                                />
                            </svg>
                        </button>
                    )}
                </span>
            </div>
            <div
                key={item.id}
                className="flex flex-col md:flex-row w-full items-center justify-center gap-4"
            >
                <div
                    className={`flex flex-col w-full max-w-[325px] ${
                        destinationType === "multiple" && "md:ml-12"
                    } md:max-w-[450px]`}
                >
                    <span
                        className={`after:content-['*'] after:ml-0.5 after:text-red-500 block text-[10px] px-3 ${
                            errors ? "text-[#DD0707]" : "text-[#848A90]"
                        }`}
                    >
                        Select Destination
                    </span>
                    <DropdownMultiple
                        data={provinces}
                        defaultValue={[item]}
                        handleDropdownChange={handleSelectChange}
                        itemId={item.id}
                        resetValue={resetValue}
                        errors={errors}
                    />
                </div>
                {destinationType === "multiple" && (
                    <>
                        <div className="hidden md:flex gap-5">
                            {divData.length !== 1 && (
                                <button
                                    onClick={() => handleDeleteDiv(item.id)}
                                >
                                    <svg
                                        width="31"
                                        height="30"
                                        viewBox="0 0 31 30"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                    >
                                        <path
                                            d="M27.6875 0.375H3.3125C2.66603 0.375 2.04605 0.631807 1.58893 1.08893C1.13181 1.54605 0.875 2.16603 0.875 2.8125V27.1875C0.875 27.834 1.13181 28.454 1.58893 28.9111C2.04605 29.3682 2.66603 29.625 3.3125 29.625H27.6875C28.334 29.625 28.954 29.3682 29.4111 28.9111C29.8682 28.454 30.125 27.834 30.125 27.1875V2.8125C30.125 2.16603 29.8682 1.54605 29.4111 1.08893C28.954 0.631807 28.334 0.375 27.6875 0.375ZM27.6875 27.1875H3.3125V2.8125H27.6875V27.1875ZM21.2373 10.9873L17.223 15L21.2373 19.0127C21.3505 19.126 21.4403 19.2604 21.5016 19.4083C21.5629 19.5563 21.5944 19.7149 21.5944 19.875C21.5944 20.0351 21.5629 20.1937 21.5016 20.3417C21.4403 20.4896 21.3505 20.624 21.2373 20.7373C21.124 20.8505 20.9896 20.9403 20.8417 21.0016C20.6937 21.0629 20.5351 21.0944 20.375 21.0944C20.2149 21.0944 20.0563 21.0629 19.9083 21.0016C19.7604 20.9403 19.626 20.8505 19.5127 20.7373L15.5 16.723L11.4873 20.7373C11.374 20.8505 11.2396 20.9403 11.0917 21.0016C10.9437 21.0629 10.7851 21.0944 10.625 21.0944C10.4649 21.0944 10.3063 21.0629 10.1583 21.0016C10.0104 20.9403 9.87597 20.8505 9.76273 20.7373C9.6495 20.624 9.55968 20.4896 9.49839 20.3417C9.43711 20.1937 9.40557 20.0351 9.40557 19.875C9.40557 19.7149 9.43711 19.5563 9.49839 19.4083C9.55968 19.2604 9.6495 19.126 9.76273 19.0127L13.777 15L9.76273 10.9873C9.53405 10.7586 9.40557 10.4484 9.40557 10.125C9.40557 9.80159 9.53405 9.49142 9.76273 9.26273C9.99142 9.03405 10.3016 8.90557 10.625 8.90557C10.9484 8.90557 11.2586 9.03405 11.4873 9.26273L15.5 13.277L19.5127 9.26273C19.626 9.1495 19.7604 9.05968 19.9083 8.99839C20.0563 8.93711 20.2149 8.90557 20.375 8.90557C20.5351 8.90557 20.6937 8.93711 20.8417 8.99839C20.9896 9.05968 21.124 9.1495 21.2373 9.26273C21.3505 9.37597 21.4403 9.5104 21.5016 9.65835C21.5629 9.80629 21.5944 9.96486 21.5944 10.125C21.5944 10.2851 21.5629 10.4437 21.5016 10.5917C21.4403 10.7396 21.3505 10.874 21.2373 10.9873Z"
                                            fill="#DD0707"
                                        />
                                    </svg>
                                </button>
                            )}

                            {index === divData.length - 1 && (
                                <button
                                    onClick={handleAddDiv}
                                    className={divData.length !== 1 && "-mr-12"}
                                >
                                    <svg
                                        width="31"
                                        height="30"
                                        viewBox="0 0 31 30"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                    >
                                        <path
                                            d="M27.6875 0.375H3.3125C2.66603 0.375 2.04605 0.631807 1.58893 1.08893C1.13181 1.54605 0.875 2.16603 0.875 2.8125V27.1875C0.875 27.834 1.13181 28.454 1.58893 28.9111C2.04605 29.3682 2.66603 29.625 3.3125 29.625H27.6875C28.334 29.625 28.954 29.3682 29.4111 28.9111C29.8682 28.454 30.125 27.834 30.125 27.1875V2.8125C30.125 2.16603 29.8682 1.54605 29.4111 1.08893C28.954 0.631807 28.334 0.375 27.6875 0.375ZM27.6875 27.1875H3.3125V2.8125H27.6875V27.1875ZM22.8125 15C22.8125 15.3232 22.6841 15.6332 22.4555 15.8618C22.227 16.0903 21.917 16.2188 21.5938 16.2188H16.7188V21.0938C16.7188 21.417 16.5903 21.727 16.3618 21.9555C16.1332 22.1841 15.8232 22.3125 15.5 22.3125C15.1768 22.3125 14.8668 22.1841 14.6382 21.9555C14.4097 21.727 14.2812 21.417 14.2812 21.0938V16.2188H9.40625C9.08302 16.2188 8.77302 16.0903 8.54446 15.8618C8.3159 15.6332 8.1875 15.3232 8.1875 15C8.1875 14.6768 8.3159 14.3668 8.54446 14.1382C8.77302 13.9097 9.08302 13.7812 9.40625 13.7812H14.2812V8.90625C14.2812 8.58302 14.4097 8.27302 14.6382 8.04446C14.8668 7.8159 15.1768 7.6875 15.5 7.6875C15.8232 7.6875 16.1332 7.8159 16.3618 8.04446C16.5903 8.27302 16.7188 8.58302 16.7188 8.90625V13.7812H21.5938C21.917 13.7812 22.227 13.9097 22.4555 14.1382C22.6841 14.3668 22.8125 14.6768 22.8125 15Z"
                                            fill="#008080"
                                        />
                                    </svg>
                                </button>
                            )}
                        </div>
                    </>
                )}
            </div>
        </div>
    );
};

export default SelectDestination;
